<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0 user-scalable= yes">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="../bulma/bulma-0.7.4/bulma-0.7.4/css/bulma.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.0/css/bulma.min.css">
  <link rel="stylesheet" href="form-style.css">
  <title>Form-1</title>
</head>
<body>
  <!-- <span class="header-image">
    <img src="" alt="">
  </span> -->
  <div class="main">
      <form action="#">
        <span class="form-title is-capitalized">Leave us a Message</span>
        <div class="columns">
          <div class="column  is-one-fifth">
            <label for="name"> <span class="is-uppercase">Name</span></label>
          </div>
          <div class="column is-two-fifth"  data-validator="Name is required">
            <input class="is-size-5" type="text" name="first-name" placeholder="first name" id="fname" value="">
          </div>
          <div class="column is-two-fifth">
            <input class="is-size-5" type="text" name="last-name" placeholder="last name" id="lname" value="">
          </div>
        </div>
        <div class="columns">
          <div class="column  is-one-fifth">
            <label for="email"> <span class="is-uppercase">Email</span></label>
          </div>
          <div class="column is-two-fifth">
            <input class="is-size-5" type="text" name="email" id="email" placeholder="Your email" value="">
          </div>
          <div class="column is-two-fifth error-message"></div>
        </div>
        <div class='columns'>
          <div class="column is-four-fifth">
            <textarea class="is-size-6" name="comment" id="comm" cols="40" rows="8" placeholder="Leave your message..."></textarea>
          </div>
        </div>
        <div class="columns">
          <div class="column">
            <button type="submit">Submit</button>
            <button type="reset">Reset</button>
          </div>
        </div>
      </form>
  </div>
  <script>

    let inputEvent =() =>{
      let form = document.forms[0];
      let input1 = document.getElementById('fname');
      let input2 = document.getElementById('lname');
      let input3 = document.getElementById('email');
      let errMess = document.querySelector('.error-message')
      input3.addEventListener('focusout', ()=>{
        if (!input3.value.includes("@" && ".com")) {
          input3.classList.add('invalid')
          errMess.innerHTML = 'Invalid email'
        }
        // let elem = form.elements.first-name;
        // console.log('THe entered value is',input1.value)
        // alert('you entered ' + input1.value);
      })

      input3.addEventListener('focusin', function(){
        if(this.classList.contains('invalid')){
          this.classList.remove('invalid')
          errMess.innerHTML = ''
        }
      })
    }
    inputEvent()
    // function preventClose(){
    //   window.onbeforeunload = function() {
    //   return false;
    // }
    // }
    // preventClose()
  </script>
</body>
</html>
